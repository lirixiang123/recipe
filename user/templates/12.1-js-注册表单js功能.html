<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>仿百度注册</title>
    <link rel="stylesheet" href="css/custom.css">
</head>
<body>

<div class="register">
    <p>
        <label>用户名</label><input id="username" type="text" placeholder="请设置用户名">
        <span id="userinfo"></span>
    </p>
    <p>
        <label>手机号</label><input id="tel" type="text" placeholder="请填写手机号">
    </p>
    <p>
        <label>密码</label><input id="password" type="text" placeholder="请设置用户密码">
    </p>
    <p>
        <label>验证码</label>
        <input type="text" placeholder="验证码" style="width: 205px">
        <input type="button" value="点击获取验证码" style="width: 143px">
    </p>
    <p style="margin-left: 75px;font-size: 12px">
        <input type="checkbox"> 阅读并接受<a href="#">《百度用户协议》</a>及<a href="#">《百度隐私权保护声明》</a>
    </p>
    <p style="margin-left: 75px;">
        <input type="button" value="注册">
    </p>
</div>

<script src="/static/js/jquery.min.js"></script>
<script type="text/javascript">
     /*
        1. 鼠标移入input->右侧提示信息
            设置后不可更改,中英文均可,最长18个英文或7个汉字
        2. 鼠标移出input->右侧提示信息
            * 如果输入为空：删除提示信息
            * X 长度在6~18之间
            * X 用户名仅支持中英文、数字和下划线,且不能为纯数字
            * X 检查用户名是否被注册 -> ajax （凡是需要不刷新当前页面与服务器做交互的）
            * right
     */
    // 事件监听
    
    // 用户名的input => onfocus 获取焦点 => 执行函数
     console.log($('p'));
    document.getElementById("username").onfocus = function (){
        document.getElementById("userinfo").innerHTML = "设置后不可更改,中英文均可,最长14个英文或7个汉字"
    };
    // 用户名的input => onblur 失去焦点 => 检查
    document.getElementById("username").onblur = function(){
        // this => 在事件监控器中，默认有一个this的变量，表示的监听的对象本身
        // 当输入为空时，删除提示的信息
        console.log(this.value);
        user_span = document.getElementById("userinfo");
        reg = /^[\w\d_]{8,18}$/i;
        if(this.value.length == 0){
            user_span.innerHTML = ""
        }else if (this.value.length <8 || this.value.length > 18){
            user_span.innerHTML = "<img src='./imgs/err_small.png'>长度不合规范"
        }else if (reg.test(this.value)){
            user_span.innerHTML = "<img src='./imgs/ok_small.png'>用户名合法";
            //  当用户名合法时，还需要去服务器检查用户是否已经被注册了
        }else{
            user_span.innerHTML = "<img src='./imgs/err_small.png'>用户名命名的字符不符合规范"
        }
        
    }
        
</script>
</body>
</html>